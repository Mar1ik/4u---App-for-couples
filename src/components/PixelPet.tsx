interface PixelPetProps {
  color: string;
  secondaryColor: string;
  mood: 'happy' | 'neutral' | 'sad' | 'sleeping' | 'excited';
  size?: number;
}

export function PixelPet({ color, secondaryColor, mood, size = 100 }: PixelPetProps) {
  const pixelSize = size / 16;

  // Pixel grid for the pet (16x16)
  const getBodyPixels = () => {
    return [
      [0,0,0,0,0,1,1,1,1,1,1,0,0,0,0,0],
      [0,0,0,1,1,2,2,2,2,2,2,1,1,0,0,0],
      [0,0,1,2,2,2,2,2,2,2,2,2,2,1,0,0],
      [0,1,2,2,2,3,3,2,2,3,3,2,2,2,1,0],
      [0,1,2,2,2,3,3,2,2,3,3,2,2,2,1,0],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,2,2,2,2,2,2,2,2,2,2,1],
      [1,2,2,2,2,4,4,4,4,4,4,2,2,2,2,1],
      [0,1,2,2,2,2,4,4,4,4,2,2,2,2,1,0],
      [0,0,1,2,2,2,2,2,2,2,2,2,2,1,0,0],
      [0,0,0,1,1,2,2,2,2,2,2,1,1,0,0,0],
      [0,0,1,2,2,1,2,2,2,2,1,2,2,1,0,0],
      [0,1,2,2,2,1,0,0,0,0,1,2,2,2,1,0],
      [1,2,2,2,1,0,0,0,0,0,0,1,2,2,2,1],
      [1,1,1,1,0,0,0,0,0,0,0,0,1,1,1,1],
    ];
  };

  const getEyePixels = () => {
    switch (mood) {
      case 'happy':
        return [
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,5,5,0,0,5,5,0,0,0,0,0],
          [0,0,0,0,0,5,5,0,0,5,5,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
        ];
      case 'sleeping':
        return [
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,5,5,0,0,5,5,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
        ];
      default:
        return [
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,5,5,0,0,5,5,0,0,0,0,0],
          [0,0,0,0,0,5,5,0,0,5,5,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
          [0,0,0,0,0,0,0,0,0,0,0,0,0,0,0,0],
        ];
    }
  };

  const bodyPixels = getBodyPixels();
  const eyePixels = getEyePixels();

  const getColor = (value: number) => {
    switch (value) {
      case 1: return '#000000'; // Outline
      case 2: return color; // Primary color
      case 3: return secondaryColor; // Secondary color (ears)
      case 4: return mood === 'happy' ? '#FF69B4' : '#FFB6C1'; // Mouth
      case 5: return '#000000'; // Eyes
      default: return 'transparent';
    }
  };

  return (
    <div style={{ width: size, height: size }}>
      <svg width={size} height={size} viewBox="0 0 16 16">
        {bodyPixels.map((row, y) =>
          row.map((cell, x) => {
            if (cell === 0) return null;
            return (
              <rect
                key={`body-${y}-${x}`}
                x={x}
                y={y}
                width={1}
                height={1}
                fill={getColor(cell)}
              />
            );
          })
        )}
        {eyePixels.map((row, y) =>
          row.map((cell, x) => {
            if (cell === 0) return null;
            return (
              <rect
                key={`eye-${y}-${x}`}
                x={x}
                y={y}
                width={1}
                height={1}
                fill={getColor(cell)}
              />
            );
          })
        )}
      </svg>
    </div>
  );
}
